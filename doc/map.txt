Как разбить world на части?

карта:
    1 setSize(x, y) задать размер карты
    2 setCell(x, y, cell) установить точку определенного типа
    3 isWalkableBetween(srcX, srcY, distX, distY) проверить проходимость между точками А и Б и расстояние в шагах между ними
    4 getCell(x, y) получить точку на позиции
    5 getNeighbors(x, y, neightype) получить соседей точки (с указанием )
    6 isVisibleBetween(srcX, srcY, distX, distY) проверить видимость между точками А и Б и получить список видимых точек
    7 checkRectangle(left, right, top, bottom) проверить, что прямоугольник вписывается в карту 
    8 getCellList(left, right, top, bottom) получить список всех точек внутри прямоугольника, бес параметров - всех точек на карте
 
    
    
    
    
Варианты использования:
0. генерация карты
    - [OK] 1 задать размер карты
    - [OK] 2 установить точку для заданой позиции
1. переместить существо:
    - узнать позицию существа
    - узнать, куда его нужно сдвинуть
    - [OK] 3 проверить, что можно пройти из позиции существа в точку назначения
    - [OK] 4 получить точку позиции существа
    - убрать существо из точки
    - [OK] 4 получить точку новой позиции
    - установить существо на позицию
2. открыть дверь (закрыть аналогично)
    - узнать позицию существа
    - [OK] 5 получить список соседних с ней точек (по горизонтали и вертикали)
    - проверить, что в них есть закрытые двери
    - [OK] 2 заменить закрытую дверь открытой
3. подобрать предмет
    - узнать позицию существа
    - [OK] 4 получить точку по этой позиции
    - проверить, что на ней есть предмет
    - добавить предмет в инвентарь игрока
4. выбросить предмет
    - узнать позицию игрока
    - [OK] 5 получить соседние точки с этой позицией (по горизонтали, вертикали и диагоналям)
    - выбрать одну из полученных точек
    - проверить, что в ней нет предметов
    - положить предмет из инвентаря в эту точку
5. перейти по лестнице
    - узнать позицию игрока
    - [OK] 4 получить точку по этой позиции
    - проверить, есть ли в ней лестница
    - переместить существо на другой этаж
6. расчет поля видимости
    - получить позицию игрока
    - получиь радиус обзора игрока
    - расчитать список дальних точек для круга обзора
    - интеративно выбирать по одно точке из курга
    - [OK] 6 проверить, что выбранная точка просматривается из позиции игрока (и получить список просматриваемых точек на пути)
    - занести данные для каждой точки из списка круга обзора 
7. Получение данных для фрейма
    - сдвинуть фрейм
    - [OK] 7 проверить, что прямоугольник фрейма не вылез за размеры карты
    - [OK] 8 получить список всех точек внутри фрейма
8. Обновление зоны видимости
    - [OK] 8 получиь список всех точек на карте
    - сделать их затененными